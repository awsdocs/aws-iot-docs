# AWS IoT Developer Guide

-----
*****Copyright &copy; 2020 Amazon Web Services, Inc. and/or its affiliates. All rights reserved.*****

-----
Amazon's trademarks and trade dress may not be used in 
     connection with any product or service that is not Amazon's, 
     in any manner that is likely to cause confusion among customers, 
     or in any manner that disparages or discredits Amazon. All other 
     trademarks not owned by Amazon are the property of their respective
     owners, who may or may not be affiliated with, connected to, or 
     sponsored by Amazon.

-----
## Contents
+ [What is AWS IoT?](what-is-aws-iot.md)
   + [How AWS IoT works](aws-iot-how-it-works.md)
+ [Getting started with AWS IoT Core](iot-gs.md)
   + [Sign in to the AWS IoT console](iot-console-signin.md)
   + [Create a thing](create-aws-thing.md)
   + [Register a device](register-device.md)
      + [Create and activate a device certificate](create-device-certificate.md)
      + [Create an AWS IoT Core policy](create-iot-policy.md)
      + [Attach an AWS IoT Core policy to a device certificate](attach-policy-to-certificate.md)
      + [Attach a certificate to a thing](attach-cert-thing.md)
   + [Configure your device](configure-iot.md)
   + [View device MQTT messages with the AWS IoT MQTT client](view-mqtt-messages.md)
   + [Configure and test rules](config-and-test-rules.md)
   + [Create and track an AWS IoT Core job](ios-sdk-create-job.md)
+ [AWS IoT rules tutorials](iot-rules-tutorial.md)
   + [Creating a rule with a DynamoDB action](iot-ddb-rule.md)
   + [Creating a rule with a AWS Lambda action](iot-lambda-rule.md)
   + [Creating an Amazon SNS rule](iot-sns-rule.md)
+ [Using the AWS IoT device SDKs on a Raspberry Pi](sdk-tutorials.md)
   + [Using the AWS IoT Device SDK for Embedded C](iot-embedded-c-sdk.md)
   + [Using the AWS IoT device SDK for JavaScript and node](iot-device-sdk-node.md)
+ [Other AWS IoT tutorials](iot-additional-tutorial.md)
   + [Monitoring soil moisture with AWS IoT and raspberry pi](iot-moisture-tutorial.md)
      + [Setting up AWS IoT](iot-moisture-setup.md)
         + [Create the AWS IoT policy](iot-moisture-policy.md)
         + [Create the AWS IoT thing, certificate, and private key](iot-moisture-create-thing.md)
         + [Create an Amazon SNS topic and subscription](iot-moisture-create-sns-topic.md)
         + [Create an AWS IoT rule to send an email](iot-moisture-create-rule.md)
      + [Setting up your Raspberry Pi and moisture sensor](iot-moisture-raspi-setup.md)
+ [Managing devices with AWS IoT](iot-thing-management.md)
   + [How to manage things with the registry](thing-registry.md)
   + [Thing types](thing-types.md)
   + [Static thing groups](thing-groups.md)
   + [Dynamic thing groups](dynamic-thing-groups.md)
+ [Tagging your AWS IoT resources](tagging-iot.md)
   + [Using tags with IAM policies](tagging-iot-iam.md)
   + [Billing groups](tagging-iot-billing-groups.md)
+ [Security in AWS IoT](security.md)
   + [AWS IoT security](iot-security.md)
   + [Authentication](authentication.md)
      + [Server authentication](server-authentication.md)
      + [Client authentication](client-authentication.md)
         + [X.509 client certificates](x509-client-certs.md)
            + [Create AWS IoT client certificates](device-certs-create.md)
            + [Create your own client certificates](device-certs-your-own.md)
               + [Manage your CA certificates](manage-your-CA-certs.md)
                  + [Create a CA certificate](create-your-CA-cert.md)
                  + [Register your CA certificate](register-CA-cert.md)
                  + [Deactivate a CA certificate](deactivate-ca-cert.md)
               + [Create a client certificate using your CA certificate](create-device-cert.md)
            + [Register a client certificate](register-device-cert.md)
               + [Register a client certificate manually](manual-cert-registration.md)
               + [Register a client certificate when the client connects to AWS IoT (just-in-time registration)](auto-register-device-cert.md)
            + [Activate or deactivate a client certificate](activate-or-deactivate-device-cert.md)
            + [Revoke a client certificate](revoke-ca-cert.md)
         + [IAM users, groups, and roles](iam-users-groups-roles.md)
         + [Amazon Cognito identities](cognito-identities.md)
      + [Custom authentication](custom-authentication.md)
         + [Custom authorizers](custom-authorizer.md)
         + [Configure a custom authorizer](config-custom-auth.md)
         + [Custom authorizer workflow](custom-auth.md)
         + [Enhanced custom authentication (beta)](enhanced-custom-authentication.md)
            + [Creating a custom authorizer for enhanced custom authentication](enhanced-custom-auth-create.md)
            + [Invoking a custom authorizer with enhanced custom authentication](enhanced-custom-auth-using.md)
   + [Managing device certs](managing-device-certs.md)
   + [Authorization](iot-authorization.md)
      + [AWS IoT Core policies](iot-policies.md)
         + [AWS IoT Core policy actions](iot-policy-actions.md)
         + [AWS IoT Core action resources](iot-action-resources.md)
         + [AWS IoT Core policy variables](iot-policy-variables.md)
            + [Basic AWS IoT Core policy variables](basic-policy-variables.md)
            + [Thing policy variables](thing-policy-variables.md)
            + [X.509 Certificate AWS IoT Core policy variables](cert-policy-variables.md)
         + [Example AWS IoT policies](example-iot-policies.md)
            + [AWS IoT policy elements](example-iot-policies-elements.md)
            + [Connect policy examples](connect-policy.md)
            + [Publish/Subscribe policy examples](pub-sub-policy.md)
            + [Connect and publish policy examples](connect-and-pub.md)
            + [Certificate policy examples](certificate-policy-examples.md)
            + [Thing policy examples](thing-policy-examples.md)
         + [Authorization with Amazon Cognito identities](cog-iot-policies.md)
      + [Authorizing direct calls to AWS services](authorizing-direct-aws.md)
      + [Cross account access](cross-account-access.md)
   + [Data protection in AWS IoT Core](data-protection.md)
      + [Transport security in AWS IoT](transport-security.md)
      + [Data encryption in AWS IoT](data-encryption.md)
         + [Key management in AWS IoT](key-management.md)
   + [Identity and access management for AWS IoT](security-iam.md)
      + [How AWS IoT works with IAM](security_iam_service-with-iam.md)
         + [IAM policies](iam-policies.md)
      + [AWS IoT identity-based policy examples](security_iam_id-based-policy-examples.md)
      + [Troubleshooting AWS IoT identity and access](security_iam_troubleshoot.md)
   + [Logging and monitoring with AWS IoT core](monitoring_overview.md)
      + [Monitoring tools](monitoring_automated_manual.md)
      + [Monitoring with Amazon CloudWatch](monitoring-cloudwatch.md)
         + [AWS IoT metrics and dimensions](metrics_dimensions.md)
            + [AWS IoT metrics](aws-iot-metrics.md)
         + [How do I use AWS IoT metrics?](how_to_use_metrics.md)
         + [Creating CloudWatch alarms to monitor AWS IoT](creating_alarms.md)
      + [Monitoring with CloudWatch Logs](cloud-watch-logs.md)
         + [CloudWatch log entry format](cwl-format.md)
            + [Viewing logs](viewing-logs.md)
      + [Logging AWS IoT API calls with AWS CloudTrail](iot-using-cloudtrail.md)
   + [Compliance validation for AWS IoT Core](SERVICENAME-compliance.md)
   + [Resilience in AWS IoT Core](disaster-recovery-resiliency.md)
   + [Infrastructure security in AWS IoT](infrastructure-security.md)
   + [Vulnerability analysis and management in AWS IoT Core](vulnerability-analysis-and-management.md)
   + [Security best practices in AWS IoT Core](security-best-practices.md)
+ [Connecting devices](iot-custom-endpoints.md)
   + [Configurable endpoints (beta)](iot-custom-endpoints-configurable.md)
      + [Creating and configuring AWS-managed domains](iot-custom-endpoints-configurable-aws.md)
      + [Creating and configuring custom domains](iot-custom-endpoints-configurable-custom.md)
      + [Managing Domain configurations](iot-custom-endpoints-managing.md)
+ [Message broker for AWS IoT](iot-message-broker.md)
   + [Topics](topics.md)
      + [Reserved topics](reserved-topics.md)
   + [Protocols](protocols.md)
      + [MQTT](mqtt.md)
         + [MQTT persistent sessions](mqtt-persistent-sessions.md)
         + [MQTT over the WebSocket protocol](mqtt-ws.md)
      + [HTTP](http.md)
+ [Rules for AWS IoT](iot-rules.md)
   + [Granting AWS IoT the required access](iot-create-role.md)
   + [Pass role permissions](pass-role.md)
   + [Creating an AWS IoT rule](iot-create-rule.md)
   + [Viewing your rules](iot-view-rules.md)
   + [Deleting a rule](iot-delete-rule.md)
   + [AWS IoT rule actions](iot-rule-actions.md)
   + [Error handling (error action)](rule-error-handling.md)
   + [Working with topic rule destinations](rule-destination.md)
   + [Reducing messaging costs with basic ingest](iot-basic-ingest.md)
   + [AWS IoT SQL reference](iot-sql-reference.md)
      + [SELECT clause](iot-sql-select.md)
      + [FROM clause](iot-sql-from.md)
      + [WHERE clause](iot-sql-where.md)
      + [Data types](iot-sql-data-types.md)
      + [Operators](iot-sql-operators.md)
      + [Functions](iot-sql-functions.md)
      + [Literals](iot-sql-literals.md)
      + [Case statements](iot-sql-case.md)
      + [JSON extensions](iot-sql-json.md)
      + [Substitution templates](iot-substitution-templates.md)
      + [Nested object queries](iot-sql-nested-queries.md)
      + [SQL versions](iot-rule-sql-version.md)
+ [Device shadow service for AWS IoT](iot-device-shadows.md)
   + [Device shadow service data flow](device-shadow-data-flow.md)
   + [Device shadow service documents](device-shadow-document.md)
   + [Using shadows](using-device-shadows.md)
   + [Device shadow RESTful API](device-shadow-rest-api.md)
      + [GetThingShadow](API_GetThingShadow.md)
      + [UpdateThingShadow](API_UpdateThingShadow.md)
      + [DeleteThingShadow](API_DeleteThingShadow.md)
   + [Shadow MQTT topics](device-shadow-mqtt.md)
   + [Shadow document syntax](device-shadow-document-syntax.md)
   + [Shadow error messages](device-shadow-error-messages.md)
+ [Jobs](iot-jobs.md)
   + [Managing jobs](create-manage-jobs.md)
      + [Creating and managing jobs (console)](manage-job-console.md)
      + [Creating and managing jobs (CLI)](manage-job-cli.md)
   + [Devices and jobs](jobs-devices.md)
   + [Using the AWS IoT jobs APIs](jobs-api.md)
   + [Job rollout and abort configuration](job-rollout-abort.md)
   + [Job limits](job-limits.md)
+ [AWS IoT secure tunneling](secure-tunneling.md)
   + [Secure tunneling concepts](secure-tunneling-concepts.md)
   + [Secure tunneling tutorial](secure-tunnel-tutorial.md)
   + [Secure tunnel lifecycle](tunnel-lifecycle.md)
   + [Controlling access to tunnels](tunnel-access.md)
   + [Local proxy](local-proxy.md)
   + [IoT agent snippet](agent-snippet.md)
   + [Configuring a remote device](configure-remote-device.md)
+ [Device provisioning](iot-provision.md)
   + [Provisioning devices that don't have device certificates using fleet provisioning](provision-wo-cert.md)
   + [Provisioning devices that have device certificates](provision-w-cert.md)
      + [Single thing provisioning](single-thing-provisioning.md)
      + [Just-in-time provisioning](jit-provisioning.md)
      + [Bulk registration](bulk-provisioning.md)
   + [Provisioning templates](provision-template.md)
+ [Fleet indexing service](iot-indexing.md)
   + [Managing thing indexing](managing-index.md)
   + [Managing thing group indexing](thinggroup-index.md)
   + [Querying for aggregate data](index-aggregate.md)
   + [Query syntax](query-syntax.md)
   + [Example thing queries](example-queries.md)
   + [Example thing group queries](example-thinggroup-queries.md)
+ [AWS IoT Device Defender](device-defender.md)
   + [Audit](device-defender-audit.md)
      + [Audit checks](device-defender-audit-checks.md)
         + [REVOKED_CA_CERT_CHECK](audit-chk-revoked-ca-cert.md)
         + [DEVICE_CERTIFICATE_SHARED_CHECK](audit-chk-device-cert-shared.md)
         + [DEVICE_CERTIFICATE_KEY_QUALITY_CHECK](audit-chk-device-cert-key-quality.md)
         + [CA_CERTIFICATE_KEY_QUALITY_CHECK](audit-chk-ca-cert-key-quality.md)
         + [UNAUTHENTICATED_COGNITO_ROLE_OVERLY_PERMISSIVE_CHECK](audit-chk-unauth-cognito-role-permissive.md)
         + [AUTHENTICATED_COGNITO_ROLE_OVERLY_PERMISSIVE_CHECK](audit-chk-auth-cognito-role-permissive.md)
         + [IOT_POLICY_OVERLY_PERMISSIVE_CHECK](audit-chk-iot-policy-permissive.md)
         + [IOT_ROLE_ALIAS_OVERLY_PERMISSIVE_CHECK](audit-chk-iot-role-alias-permissive.md)
         + [IOT_ROLE_ALIAS_ALLOWS_ACCESS_TO_UNUSED_SERVICES_CHECK](audit-chk-role-alias-unused-svcs.md)
         + [CA_CERT_APPROACHING_EXPIRATION_CHECK](audit-chk-ca-cert-approaching-expiration.md)
         + [CONFLICTING_CLIENT_IDS_CHECK](audit-chk-conflicting-client-ids.md)
         + [DEVICE_CERT_APPROACHING_EXPIRATION_CHECK](audit-chk-device-cert-approaching-expiration.md)
         + [REVOKED_DEVICE_CERT_CHECK](audit-chk-revoked-device-cert.md)
         + [LOGGING_DISABLED_CHECK](audit-chk-logging-disabled.md)
      + [How to perform audits](device-defender-HowToProceed.md)
   + [Audit commands](AuditCommands.md)
   + [Mitigation actions](device-defender-mitigation-actions.md)
   + [Mitigation action commands](mitigation-action-commands.md)
   + [Detect](device-defender-detect.md)
   + [Detect commands](detect-commands.md)
      + [AttachSecurityProfile](dd-api-iot-AttachSecurityProfile.md)
      + [CreateDimension](dd-api-iot-CreateDimension.md)
      + [CreateSecurityProfile](dd-api-iot-CreateSecurityProfile.md)
      + [DeleteDimension](dd-api-iot-DeleteDimension.md)
      + [DeleteSecurityProfile](dd-api-iot-DeleteSecurityProfile.md)
      + [DescribeDimension](dd-api-iot-DescribeDimension.md)
      + [DescribeSecurityProfile](dd-api-iot-DescribeSecurityProfile.md)
      + [DetachSecurityProfile](dd-api-iot-DetachSecurityProfile.md)
      + [ListActiveViolations](dd-api-iot-ListActiveViolations.md)
      + [ListDimensions](dd-api-iot-ListDimensions.md)
      + [ListSecurityProfiles](dd-api-iot-ListSecurityProfiles.md)
      + [ListSecurityProfilesForTarget](dd-api-iot-ListSecurityProfilesForTarget.md)
      + [ListTargetsForSecurityProfile](dd-api-iot-ListTargetsForSecurityProfile.md)
      + [ListViolationEvents](dd-api-iot-ListViolationEvents.md)
      + [UpdateDimension](dd-api-iot-UpdateDimension.md)
      + [UpdateSecurityProfile](dd-api-iot-UpdateSecurityProfile.md)
      + [ValidateSecurityProfileBehaviors](dd-api-iot-ValidateSecurityProfileBehaviors.md)
   + [Device agent integration with AWS IoT Greengrass](device-defender-DetectMetricsGreengrassIntegration.md)
   + [Security best practices for device agents](device-defender-DetectMetricsMessagesBestPract.md)
+ [Event messages](iot-events.md)
   + [Registry events](registry-events.md)
   + [Jobs events](events-jobs.md)
   + [Lifecycle events](life-cycle-events.md)
+ [Alexa Voice Service (AVS) Integration for AWS IoT](avs-integration-aws-iot.md)
   + [Getting started with Alexa Voice Service (AVS) Integration for AWS IoT on an NXP device](avs-integration-aws-iot-gs-nxp.md)
+ [AWS IoT device and mobile SDKs](iot-sdks.md)
+ [Troubleshooting AWS IoT](iot_troubleshooting.md)
   + [Diagnosing connectivity issues](diagnosing-connectivity-issues.md)
   + [Diagnosing rules issues](diagnosing-rules.md)
   + [Diagnosing problems with shadows](diagnosing-shadows.md)
   + [Diagnosing Salesforce IoT input stream action issues](diagnosing-salesforce.md)
   + [Troubleshooting aggregation queries for the fleet indexing service](aggregation-troubleshooting.md)
   + [AWS IoT Device Defender troubleshooting guide](device-defender-troubleshoot.md)
   + [AWS IoT errors](iot-errors.md)
+ [AWS IoT quotas](limits-iot.md)